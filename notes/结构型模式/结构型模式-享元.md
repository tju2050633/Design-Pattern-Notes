# 0.问题和解决方案

- 游戏中存在大量具有重复属性的对象，如满屏子弹，虽然每个子弹位置、速度矢量不同，但具有相同的sprit、伤害等属性，这些重复属性浪费大量内存
- 为了避免重复属性，可以将这些属性抽象为一个对象，然后将这些对象组织为一个列表，每个对象只存储自己的位置、速度矢量等属性
- 享元工厂：负责创建和管理享元对象，当客户端请求一个享元对象时，享元工厂检查是否已经创建过该对象，如果已经创建则直接返回，否则创建新的对象并返回

<img src='../../img/Flyweight2.png' />

## 1. 类图

<img src='../../img/Flyweight1.png' />

- 外观类对大量框架对象进行封装，客户端只需要调用外观类的接口，从而与框架对象隔离
  - 如果框架对象改变，只需要修改外观类中的代码，无需改变客户端
- 创建**附加外观**，避免单一外观具有太多功能，又变成复杂结构
  - 如游戏引擎有负责场景切换的类、有负责资源加载的类等




## 2. 适用场景

- 需要一个功能有限、可以代替复杂子系统的接口
- 需要将子系统组织为多层结构
  使用外观定义各层次入口，子系统之间使用外观来交互，减少耦合
