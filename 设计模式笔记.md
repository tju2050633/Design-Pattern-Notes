## 设计模式笔记

### 1.用例图

- 三个部分：
  - 用例Use Case，椭圆表示
  - 参与者Actor，小人
  - 关系Relationship，用例和参与者之间的连线
- 主体结构
  - 中间一个矩形框，上有系统名
  - 通常有多个参与者，主要的放左边，次要的放右边
  - 用例放矩形框内，用例名在椭圆内
  - 用关系直线连接参与者和用例
- 更多用例
  - 包含：虚线连接两个用例，上面写<<include\>\> ，连接两个先后发生的事件，如登陆——include——>验证密码
  - 扩展：虚线连接两个用例，上面写<<extend\>\> ，连接事件和可能发生的后续事件，如登陆失败——extend——>登陆
  - 泛化（继承）：实线+空心箭头，is-a关系，如Pay from Saving——>Make Payment。参与者之间也可以继承。
- 注释
  - 延伸：用例椭圆下半区加文字说明，内容较少
  - 批注：虚线连接特点元素，外接一个文本框，内容较多



### 2.类图

- 类表示法
  - 第一部分：类名，首字母大写
  - 第二部分：属性，驼峰
    - +前缀，public
    - -前缀，private
    - #前缀，protected
    - *前缀，包内可见
  - 第三部分：方法，驼峰
- 类的分类
  - Boundary Class：边界，鲁棒图中表现为圆圈+左边竖直线。只与Actor、Control 连接，相当于MVC中的View层。
  - Control Class：控件，鲁棒图中表现为自循环圆圈。只与Boundary、Entity连接，相当于MVC中的Controller层。
  - Entity Class：实体，鲁棒图中表现为圆圈+下面相切横线。只与Control连接，相当于MVC中的Model。

- 类之间的关系

  - 泛化

    - is-a关系
    - 空心三角实线箭头，A—>B，A继承B
    - SUV—>小汽车
    - 代码中，泛化表现为继承非抽象类

  - 实现
    - 空心三角虚线箭头，A-->B
    - 小汽车-->车
    - 代码中，实现表现为继承抽象类
  - 聚合
    - 空心菱形箭头实线表示
    - B由A聚合，整体不存在，部分依然存在，可以形成别的整体
    - 员工（组成）部门
  - 组合
    - 实心菱形箭头实线表示
    - B由A组合，整体不存在，部分就不存在，如公司不存在，公司的部门就不存在
    - 属于一种强依赖的特殊聚合关系
  - 关联
    - 一条直线表示，若有箭头，A—>B表示A知道B但B不知道A
    - 描述类之间的结构静态关系
    - 代码中，关联对象以成员变量形式实现
  - 依赖
    - 一条带箭头虚线
      - 一种临时性动态关系，A-->B，A依赖于B，运行时会用到另一个对象的关系
      - 双向依赖要避免，总是保持单向依赖
      - 代码中，依赖体现为构造方法以及类方法的传入参数，箭头指向为调用关系





---

### 3.时序图

- 角色Actor ：人，或其他系统、子系统
- 对象Object：交互主体，接受发送信息的主体
- 生命线：角色和对象下面垂直的虚线，代表其在一段时间内存在
- 激活：覆盖在生命线上的条状矩形，表示该时期内角色或对象处于激活状态

- 消息：对象之间的交互
  - 同步消息：发送者需要等待消息响应。实线实心三角箭头表示
  - 异步消息：发送者不需要等待消息响应。实线线性箭头表示：——>
  - 返回消息：虚线线性箭头表示
  - 自关联消息：自身调用自身的方法
- 组合：对一个交互过程的执行条件限定
  - 选择组合Opt：根据条件判断组合中的内容是否执行，即if-then
  - 替换组合Alt：根据条件判断执行哪部分，类似if-else
  - 循环，中断，并行。。。

Created On : 2023-05-21
Last Modified : 2023-05-21